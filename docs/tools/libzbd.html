<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tools/libzbd" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">libzbd User Library | Zoned Storage</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zonedstorage.io/docs/tools/libzbd"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="libzbd User Library | Zoned Storage"><meta data-rh="true" name="description" content="libzbd is a user library that provides functions for manipulating zoned block"><meta data-rh="true" property="og:description" content="libzbd is a user library that provides functions for manipulating zoned block"><link data-rh="true" rel="icon" href="/img/zs-logo.ico"><link data-rh="true" rel="canonical" href="https://zonedstorage.io/docs/tools/libzbd"><link data-rh="true" rel="alternate" href="https://zonedstorage.io/docs/tools/libzbd" hreflang="en"><link data-rh="true" rel="alternate" href="https://zonedstorage.io/docs/tools/libzbd" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0DX1KGD5E4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0DX1KGD5E4",{})</script><link rel="stylesheet" href="/assets/css/styles.8ae24b2a.css">
<script src="/assets/js/runtime~main.397fa6f4.js" defer="defer"></script>
<script src="/assets/js/main.693824e1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Zoned Storage</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/docs/community/support">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/westerndigitalcorporation/zonedstorage.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/introduction">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/getting-started">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/linux">Linux Kernel Support</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/applications">Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/tools">Tools and Libraries</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/util-linux">Linux System Utilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/zns">ZNS Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/sg3utils">SCSI Generic Utilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/libzbc">libzbc User Library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tools/libzbd">libzbd User Library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/libnvme">libnvme User Library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/tcmu-runner">tcmu-runner ZBC Disk Emulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/qemu">QEMU and KVM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tests">System Compliance Tests</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/benchmarking">Performance Benchmarking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/distributions/overview">Linux Distributions</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">Frequently Asked Questions</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tools and Libraries</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">libzbd User Library</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>libzbd User Library</h1>
<p><em>libzbd</em> is a user library that provides functions for manipulating zoned block
devices.</p>
<p>Unlike the <a href="/docs/tools/libzbc"><em>libzbc</em></a> library, <em>libzbd</em> does not implement
direct command access to zoned block devices. <em>libzbd</em> instead uses the
kernel-provided zoned block device interface that is based on the <em>ioctl()</em>
system call. A direct consequence of this is that <em>libzbd</em> allows access only
to zoned block devices that are supported by the running kernel. This includes
both physical devices (such as hard-disks that support the ZBC and ZAC
standards) and all logical block devices that are implemented by various device
drivers (such as <a href="/docs/getting-started/zbd-emulation"><em>null_blk</em></a> and <a href="/docs/linux/dm">device
mapper</a> drivers).</p>
<p>The <em>libzbd</em> project is hosted on <a href="https://github.com/westerndigitalcorporation/libzbd" target="_blank">GitHub</a>.
The project <a href="https://github.com/westerndigitalcorporation/libzbd/blob/master/README.md" target="_blank"><em>README</em> file</a> provides information on how to compile and
install the <em>libzbd</em> library and its tools.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p><em>libzbd</em> provides functions for discovering and managing the state of the zones
in zoned block devices. Read and write accesses to the devices can be made
using standard I/O system calls.</p>
<p>When <em>libzbd</em> functions (and write operations) are performed on the zones of a
zoned block device, the execution of those functions and operations can result
in changes to the condition of the device zones and changes to the attributes
of the device zones. An example of this is the location of the write pointer in
sequential zones. These changes are not tracked internally by <em>libzbd</em>.</p>
<p>In other words, <em>libzbd</em> is stateless.</p>
<p>It is the responsibility of applications to track changes to the condition of
zones. Such changes include the increased write pointer position within a
sequential zone after a write request to the zone has completed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="library-functions">Library Functions<a href="#library-functions" class="hash-link" aria-label="Direct link to Library Functions" title="Direct link to Library Functions">​</a></h2>
<p>All <em>libzbd</em> functions use byte units to measure zone-related information. This
zone-related information includes the zone&#x27;s start position on the device, the
zone&#x27;s size, and the zone write pointer location. Zoned block devices are
identified using regular file descriptor numbers, which can be used &quot;as is&quot;
with standard I/O system calls.</p>
<p>However, application programmers must be careful always to implement read
accesses so that they are aligned to the device logical block size.
Furthermore, on host managed zoned block devices, write operations to
sequential zones must be aligned to the device&#x27;s physical block size.</p>
<p>The main functions provided by <em>libzbd</em> are as follows:</p>
<center><table><thead><tr><th style="text-align:left">Function</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">zbd_open()</td><td style="text-align:left">Open a zoned block device</td></tr><tr><td style="text-align:left">zbd_close()</td><td style="text-align:left">Close an open zoned block device</td></tr><tr><td style="text-align:left">zbd_get_info()</td><td style="text-align:left">Get a device information</td></tr><tr><td style="text-align:left">zbd_report_nr_zones()</td><td style="text-align:left">Get the number of zones of a device</td></tr><tr><td style="text-align:left">zbd_report_zones()</td><td style="text-align:left">Get a device zone information</td></tr><tr><td style="text-align:left">zbd_list_zones()</td><td style="text-align:left">Get a device zone information</td></tr><tr><td style="text-align:left">zbd_zones_operation()</td><td style="text-align:left">Execute an operation on a range of zones</td></tr><tr><td style="text-align:left">zbd_open_zones()</td><td style="text-align:left">Explicitly open a range of zone</td></tr><tr><td style="text-align:left">zbd_close_zones()</td><td style="text-align:left">Close a range of zones</td></tr><tr><td style="text-align:left">zbd_reset_zones()</td><td style="text-align:left">Reset the write pointer of a range of zones</td></tr><tr><td style="text-align:left">zbd_finish_zones()</td><td style="text-align:left">Finish a range of zone</td></tr></tbody></table></center>
<p>More detailed information about these functions&#x27; usage and behavior can be
found in the comments of <a href="https://github.com/westerndigitalcorporation/libzbd/blob/master/include/libzbd/zbd.h" target="_blank"><em>libzbd</em> header file</a>. This header file is installed by
default as <code>/usr/include/libzbd/zbd.h</code>.</p>
<p><em>libzbd</em> does not implement any mutual exclusion mechanism for multi-thread or
multi-process applications. This means that it is the responsibility of
applications to synchronize the execution of conflicting operations that target
the same zone. A typical example of such a case is when multiple threads
execute concurrent write operations to the same zone, which can result in write
errors when the application does not have write ordering control.</p>
<p>The following functions are provided by <em>libzbd</em> to facilitate application
development and tests:</p>
<center><table><thead><tr><th style="text-align:left">Function</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">zbd_device_is_zoned()</td><td style="text-align:left">Test if a device is a zoned block device</td></tr><tr><td style="text-align:left">zbd_device_model_str()</td><td style="text-align:left">Get a string description of a device model</td></tr><tr><td style="text-align:left">zbd_zone_type_str()</td><td style="text-align:left">Get a string description of a zone type</td></tr><tr><td style="text-align:left">zbd_zone_cond_str()</td><td style="text-align:left">Get a string description of a zone condition</td></tr><tr><td style="text-align:left">zbd_set_log_level()</td><td style="text-align:left">Set the library verbosity level</td></tr></tbody></table></center>
<p>All functions behave in the same manner regardless of the type of disk
being used.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilities">Utilities<a href="#utilities" class="hash-link" aria-label="Direct link to Utilities" title="Direct link to Utilities">​</a></h2>
<p><em>libzbd</em> provides several command-line applications for manipulating zoned
block devices by calling the library functions. The list of applications
provided by <em>libzbd</em> is shown in the table below:</p>
<center><table><thead><tr><th style="text-align:left">Tool</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">zbd</td><td style="text-align:left">Command line utility to report, open, close, reset and finish zones of a device</td></tr><tr><td style="text-align:left">gzbd</td><td style="text-align:left">Similar to the zbd tool but using a graphical user interface</td></tr><tr><td style="text-align:left">gzbd-viewer</td><td style="text-align:left">Graphical user interface showing the condition and state of zones of a zoned block device</td></tr></tbody></table></center>
<p>Each of these utilities outputs a help message when executed without any
argument:</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># zbd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage: zbd &lt;command&gt; [options] &lt;dev&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  report	: Get zone information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  reset		: Reset zone(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  open		: Explicitly open zone(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  close		: Close zone(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  finish	: Finish zone(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Common options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v		   : Verbose mode (for debug)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -i		   : Display device information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -ofst &lt;ofst (B)&gt; : Start offset of the first zone of the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		     target range (default: 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -len &lt;len (B)&gt;   : Size of the zone range to operate on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		     (default: device capacity)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -u &lt;unit (B)&gt;	   : Size unit for the ofst and len options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		     and for displaying zone report results.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		     (default: 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Report command options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -csv		: Use csv output format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -n		: Only output the number of zones in the report</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -ro &lt;opt&gt;	: Specify zone report filter.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;em&quot;: empty zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;oi&quot;: implicitly open zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;oe&quot;: explicitly open zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;cl&quot;: closed zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;fu&quot;: full zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;ro&quot;: read-only zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;ol&quot;: offline zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;nw&quot;: conventional zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;ns&quot;: non-seq write resource zones</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		  * &quot;rw&quot;: reset-wp recommended zones</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Manual pages are also provided for each tool:</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># man zbd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ZBD(8)                     System Manager&#x27;s Manual                       ZBD(8)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       zbd - manage zoned block devices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SYNOPSIS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       zbd command [options] device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DESCRIPTION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       zbd  is  used  to  manipulate  zones of a zoned block device. Zoned block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       devies are block devices that support the SCSI Zoned Block Commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       (ZBC), ATA  Zoned-device  ATA  Commands (ZAC)  or  NVMe  Zoned NameSpace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       commands (ZNS).  The zones to operate on can be specified using the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       offset and length options.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       The device argument must be the pathname of the target zoned block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       device.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COMMANDS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   report</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       The command zbd report is used to obtain and display the device zone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       information.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       By default, the command will report all zones from the start of the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       device up to the  last zone  of  the  device.  Options may be used to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       modify this behavior, changing the starting zone or the size of the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       report.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zbd-tool-examples"><em>zbd</em> Tool Examples<a href="#zbd-tool-examples" class="hash-link" aria-label="Direct link to zbd-tool-examples" title="Direct link to zbd-tool-examples">​</a></h3>
<p>The following examples use a null zoned block device with 4 conventional zones
and 12 sequential zones of 32 MB that have been created using the
<a href="/docs/getting-started/zbd-emulation#creating-a-zoned-null-block-device"><em>nullblk-zoned.sh</em></a>
script:</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># nullblk-zoned.sh 4096 32 4 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">### Created /dev/nullb0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following command can be used to list the zone information for all the
zones of a device. This includes the device information such as logical block size
and capacity.</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># zbd report -i /dev/nullb0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Device /dev/nullb0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: Unknown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zone model: host-managed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Capacity: 0.537 GB (1048576 512-bytes sectors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Logical blocks: 131072 blocks of 4096 B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Physical blocks: 131072 blocks of 4096 B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zones: 16 zones of 32.0 MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open zones: no limit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of active zones: no limit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00000: cnv, ofst 00000000000000, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00001: cnv, ofst 00000033554432, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00002: cnv, ofst 00000067108864, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00003: cnv, ofst 00000100663296, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00004: swr, ofst 00000134217728, len 00000033554432, cap 00000033554432, wp 00000134217728, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00005: swr, ofst 00000167772160, len 00000033554432, cap 00000033554432, wp 00000167772160, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00006: swr, ofst 00000201326592, len 00000033554432, cap 00000033554432, wp 00000201326592, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00007: swr, ofst 00000234881024, len 00000033554432, cap 00000033554432, wp 00000234881024, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00008: swr, ofst 00000268435456, len 00000033554432, cap 00000033554432, wp 00000268435456, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00009: swr, ofst 00000301989888, len 00000033554432, cap 00000033554432, wp 00000301989888, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00010: swr, ofst 00000335544320, len 00000033554432, cap 00000033554432, wp 00000335544320, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00011: swr, ofst 00000369098752, len 00000033554432, cap 00000033554432, wp 00000369098752, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00012: swr, ofst 00000402653184, len 00000033554432, cap 00000033554432, wp 00000402653184, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00013: swr, ofst 00000436207616, len 00000033554432, cap 00000033554432, wp 00000436207616, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00014: swr, ofst 00000469762048, len 00000033554432, cap 00000033554432, wp 00000469762048, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00015: swr, ofst 00000503316480, len 00000033554432, cap 00000033554432, wp 00000503316480, em, non_seq 0, reset 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The same zone information can also be obtained in csv format so that it can
more easily be parsed by scripting languages (including shell scripts).</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># zbd report -csv /dev/nullb0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zone num, type, ofst, len, cap, wp, cond, non_seq, reset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00000, 1, 00000000000000, 00000033554432, 00000033554432, 00000033554432, 0x0, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00001, 1, 00000033554432, 00000033554432, 00000033554432, 00000067108864, 0x0, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00002, 1, 00000067108864, 00000033554432, 00000033554432, 00000100663296, 0x0, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00003, 1, 00000100663296, 00000033554432, 00000033554432, 00000134217728, 0x0, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00004, 2, 00000134217728, 00000033554432, 00000033554432, 00000134217728, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00005, 2, 00000167772160, 00000033554432, 00000033554432, 00000167772160, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00006, 2, 00000201326592, 00000033554432, 00000033554432, 00000201326592, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00007, 2, 00000234881024, 00000033554432, 00000033554432, 00000234881024, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00008, 2, 00000268435456, 00000033554432, 00000033554432, 00000268435456, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00009, 2, 00000301989888, 00000033554432, 00000033554432, 00000301989888, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00010, 2, 00000335544320, 00000033554432, 00000033554432, 00000335544320, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00011, 2, 00000369098752, 00000033554432, 00000033554432, 00000369098752, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00012, 2, 00000402653184, 00000033554432, 00000033554432, 00000402653184, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00013, 2, 00000436207616, 00000033554432, 00000033554432, 00000436207616, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00014, 2, 00000469762048, 00000033554432, 00000033554432, 00000469762048, 0x1, 0, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00015, 2, 00000503316480, 00000033554432, 00000033554432, 00000503316480, 0x1, 0, 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zone-operations">Zone Operations<a href="#zone-operations" class="hash-link" aria-label="Direct link to Zone Operations" title="Direct link to Zone Operations">​</a></h3>
<p>The <em>zbd</em> tool makes it possible to execute zone management operations over a
range of zones. The following example explicitly opens the first 2 sequential
zones of the <em>null_blk</em> device:</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># zbd open -ofst 134217728 -len 67108864 /dev/nullb0 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># zbd report /dev/nullb0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00000: cnv, ofst 00000000000000, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00001: cnv, ofst 00000033554432, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00002: cnv, ofst 00000067108864, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00003: cnv, ofst 00000100663296, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00004: swr, ofst 00000134217728, len 00000033554432, cap 00000033554432, wp 00000134217728, oe, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00005: swr, ofst 00000167772160, len 00000033554432, cap 00000033554432, wp 00000167772160, oe, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00006: swr, ofst 00000201326592, len 00000033554432, cap 00000033554432, wp 00000201326592, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00007: swr, ofst 00000234881024, len 00000033554432, cap 00000033554432, wp 00000234881024, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00008: swr, ofst 00000268435456, len 00000033554432, cap 00000033554432, wp 00000268435456, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00009: swr, ofst 00000301989888, len 00000033554432, cap 00000033554432, wp 00000301989888, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00010: swr, ofst 00000335544320, len 00000033554432, cap 00000033554432, wp 00000335544320, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00011: swr, ofst 00000369098752, len 00000033554432, cap 00000033554432, wp 00000369098752, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00012: swr, ofst 00000402653184, len 00000033554432, cap 00000033554432, wp 00000402653184, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00013: swr, ofst 00000436207616, len 00000033554432, cap 00000033554432, wp 00000436207616, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00014: swr, ofst 00000469762048, len 00000033554432, cap 00000033554432, wp 00000469762048, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00015: swr, ofst 00000503316480, len 00000033554432, cap 00000033554432, wp 00000503316480, em, non_seq 0, reset 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Writing 32MB to the first zone by using <code>dd</code> transitions the zone to the &quot;full&quot; state:</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># dd if=/dev/zero of=/dev/nullb0 oflag=direct bs=1M count=32 seek=128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32+0 records in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32+0 records out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">33554432 bytes (34 MB, 32 MiB) copied, 0.00945045 s, 3.6 GB/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># zbd report /dev/nullb0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00000: cnv, ofst 00000000000000, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00001: cnv, ofst 00000033554432, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00002: cnv, ofst 00000067108864, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00003: cnv, ofst 00000100663296, len 00000033554432, cap 00000033554432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00004: swr, ofst 00000134217728, len 00000033554432, cap 00000033554432, wp 00000167772160, fu, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00005: swr, ofst 00000167772160, len 00000033554432, cap 00000033554432, wp 00000167772160, oe, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00006: swr, ofst 00000201326592, len 00000033554432, cap 00000033554432, wp 00000201326592, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00007: swr, ofst 00000234881024, len 00000033554432, cap 00000033554432, wp 00000234881024, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00008: swr, ofst 00000268435456, len 00000033554432, cap 00000033554432, wp 00000268435456, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00009: swr, ofst 00000301989888, len 00000033554432, cap 00000033554432, wp 00000301989888, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00010: swr, ofst 00000335544320, len 00000033554432, cap 00000033554432, wp 00000335544320, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00011: swr, ofst 00000369098752, len 00000033554432, cap 00000033554432, wp 00000369098752, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00012: swr, ofst 00000402653184, len 00000033554432, cap 00000033554432, wp 00000402653184, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00013: swr, ofst 00000436207616, len 00000033554432, cap 00000033554432, wp 00000436207616, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00014: swr, ofst 00000469762048, len 00000033554432, cap 00000033554432, wp 00000469762048, em, non_seq 0, reset 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zone 00015: swr, ofst 00000503316480, len 00000033554432, cap 00000033554432, wp 00000503316480, em, non_seq 0, reset 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Other possible zone operations are <em>close</em>, <em>reset</em>, and <em>finish</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphical-interface">Graphical Interface<a href="#graphical-interface" class="hash-link" aria-label="Direct link to Graphical Interface" title="Direct link to Graphical Interface">​</a></h3>
<p><em>gzbd</em> provides a graphical user interface that shows the zone configuration
and the state of a zoned block device. <em>gzbd</em> also displays the write status
(the write pointer position) of zones graphically by using color coding: red
for written sectors and green for unwritten sectors. Operations on zones can be
executed directly from the interface (examples of such operations include
&quot;reset zone write pointer&quot;, &quot;open zone&quot;, and &quot;close zone&quot;).</p>
<div class="container text--center"><figure><img src="/assets/images/tools-libzbd-gzbd-3a358277b4b4b8a9ea5629ce574afad4.png" width="640" max-width="100%"><figcaption><em>gzbd screenshot</em></figcaption></figure></div>
<p>The <em>gzbd-viewer</em> graphical interface is a tool that is simpler than <em>gzbd</em>.
It displays only the current zone condition and the state of a zoned block
device. The zone state is refreshed by default twice per second. This period
can be adjusted by using a command line option.</p>
<div class="container text--center"><figure><img src="/assets/images/tools-libzbd-gzbd-viewer-63527beb07ac767d890a1b9616c85add.png" width="640" max-width="100%"><figcaption><em>gzbd-viewer screenshot</em></figcaption></figure></div>
<p><em>gzbd</em> provides simple visual cues to show a given application&#x27;s performance
and usage of the zones of a zoned block device. The following example
illustrates this:</p>
<div class="container text--center"><figure><video controls="" width="640" max-width="100%"><source type="video/mp4" src="/assets/medias/tools-libzbd-gzbd-viewer-example-b3b4ef97af02e55f8b536f5b1b3c32d0.mp4"></video><figcaption><em>Application execution observed with gzbd-viewer</em></figcaption></figure></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tools/libzbc"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">libzbc User Library</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tools/libnvme"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">libnvme User Library</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#library-functions" class="table-of-contents__link toc-highlight">Library Functions</a></li><li><a href="#utilities" class="table-of-contents__link toc-highlight">Utilities</a><ul><li><a href="#zbd-tool-examples" class="table-of-contents__link toc-highlight"><em>zbd</em> Tool Examples</a></li><li><a href="#zone-operations" class="table-of-contents__link toc-highlight">Zone Operations</a></li><li><a href="#graphical-interface" class="table-of-contents__link toc-highlight">Graphical Interface</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/zoned-storage">Introduction to Zoned Storage</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started with Zoned Storage</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://app.element.io/#/room/#zonedstorage-general:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/zonedstorage/shared_invite/zt-uyfut5xe-nKajp9YRnEWqiD4X6RkTFw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://webchat.oftc.net/?channels=zonedstorage" target="_blank" rel="noopener noreferrer" class="footer__link-item">IRC @ OFTC<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/westerndigitalcorporation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Organization<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Western Digital
	Corporation or its affiliates. All rights reserved.<br> By using this site, you agree to the <a href="https://www.westerndigital.com/legal/terms-of-use" target="_blank">Terms of Use</a> and <a href="https://www.westerndigital.com/legal/privacy-statement" target="_blank">Privacy Statement</a>.  All example scripts and program snippets on this site are licensed under the <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank">CCO 1.0 Universal</a> license.<br>This site is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
</body>
</html>
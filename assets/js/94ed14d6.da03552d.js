(self.webpackChunkzonedstorage_io=self.webpackChunkzonedstorage_io||[]).push([[7566],{47:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/medias/tools-libzbd-gzbd-viewer-example-b3b4ef97af02e55f8b536f5b1b3c32d0.mp4"},662:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-sched-70e55f9f3df2c81df464b476b1c4f636.png"},990:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zoned-storage-82ce755eb4ac58c0b289d5bcb8b8c361.png"},1050:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbd-gzbd-3a358277b4b4b8a9ea5629ce574afad4.png"},1315:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zns-128e951b7035733479ad228844c9e7ab.png"},1542:(e,n,t)=>{var s={"./intro-linux-zbd.png":9021,"./intro-smr-tracks.png":7225,"./intro-smr-zones.png":6956,"./intro-zns.png":1315,"./intro-zone-append.png":8651,"./intro-zoned-storage.png":990,"./intro-zonesize-vs-capacity.png":2862,"./linux-config-dm.png":4710,"./linux-config-pscsi.png":5105,"./linux-config-sched.png":662,"./linux-config-tcm1.png":4246,"./linux-config-tcm2.png":6013,"./linux-config-vhost.png":3451,"./linux-config-zbd.png":2943,"./linux-config-zonefs.png":5444,"./linux-dm-zoned.png":4194,"./linux-iopath.png":1663,"./linux-versions.png":4637,"./percona-server-logo.png":8985,"./qemu.png":3105,"./tests-zbc-hba.png":8206,"./tests-zbc-kernel.png":1666,"./tools-libzbc-gzbc.png":4948,"./tools-libzbc.png":3499,"./tools-libzbc6.png":6133,"./tools-libzbd-gzbd-viewer-example.mp4":47,"./tools-libzbd-gzbd-viewer.png":3283,"./tools-libzbd-gzbd.png":1050,"./tools-tcmu-gzbc.png":5143,"./tools-tcmu.png":2178,"./zone-state-machine.svg":6639,"./zs-logo.ico":4140,"./zs-logo.png":2574};function A(e){var n=i(e);return t(n)}function i(e){if(!t.o(s,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return s[e]}A.keys=function(){return Object.keys(s)},A.resolve=i,e.exports=A,A.id=1542},1663:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-iopath-3ad49009873f1211b8e873f9ba540a38.png"},1666:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tests-zbc-kernel-166564aae2e5ad8dc156175fbf8f2e85.png"},2178:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-tcmu-dc8b8095c58f25df749406030dcc1b25.png"},2574:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/zs-logo-178d9855350307325549778e41354d29.png"},2862:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zonesize-vs-capacity-0f94861db037e13632def2968998b611.png"},2943:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-zbd-2e5d1a6b239c372fbd3e44f5e3282ebe.png"},3105:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/qemu-151192c8ad3d711f862c27b8b9e5bec4.png"},3283:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbd-gzbd-viewer-63527beb07ac767d890a1b9616c85add.png"},3451:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-vhost-21cc5561b882aa8097fb30aa35664908.png"},3499:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbc-9dc574a0bfec08d195e6e4179d6cd272.png"},4140:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s="data:image/vnd.microsoft.icon;base64,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WP/47uz/0YFb/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9KDXf/9+fj/15V6/9GAWf/RgFnf0YBZ/9GAWf/RgFr/04hm/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/26OO//Xp5f/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ//br6P/erJn/0YBZ/9GAWf/RgFn/0YBZ/9OIZf/9+/r/0oRf/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/ShWH/3amX/+vRyf/37er/2qGM/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/8+Tf/+G1pf/RgFn/0YBZ/9GAWf/RgFn/04hk//79/P/ShWH/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/dqZf/8d7Z//br5//t1c7/4LKi/9KEYP/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/y4dz/4bSk/9GAWf/RgFn/0YBZ/9GAWf/RgFn//fn4/9eWev/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/4riq//Xo5P/aoYz/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ//Hf2v/cp5P/0YBZ/9GAWf/RgFnf0YBZ/9GAWf/26ub/4LCg/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/05+T/15V7/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/04hm/9KDXv/RgFn/0YBZ39GAWa7RgFn/0YBZ/+vQyP/s0cn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ//Xp5v/UjW7/0YBZ/9GAWf/RgFn/0YBZ/9WPcv/htab/0oNf/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/+fHvP/58O3/2Jh//9GAWf/RgFmu0YBZb9GAWf/RgFn/3KaS//r08v/ShWH/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/5sO4/+3Wz//ShGH/0YBZ/9GAWf/RgVr/79rU////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"},4194:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-dm-zoned-7f01ae74923ff02b8d01c92fef2d376d.png"},4246:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-tcm1-7684c969474b143f4f71318501623f6f.png"},4474:(e,n,t)=>{"use strict";t.d(n,{A:()=>A});t(6540);var s=t(4848);const A=function({src:e,title:n}){return(0,s.jsx)("div",{className:"container text--center",children:(0,s.jsxs)("figure",{children:[(0,s.jsx)("img",{src:t(1542)("./"+e).default,width:"640","max-width":"100%"}),(0,s.jsx)("figcaption",{children:(0,s.jsx)("em",{children:n})})]})})}},4637:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-versions-eaa94336f891a8e3f184b3018b02be70.png"},4710:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-dm-9e8a3c8f8b9a480f921d7d263a9dc113.png"},4948:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbc-gzbc-5d6b525337b567661f392ef6d06ad83e.png"},5105:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-pscsi-e7c9db15cc4aebcf65fb21db3521a144.png"},5143:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-tcmu-gzbc-11fb58818ee21d5116da8329d0d479af.png"},5444:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-zonefs-34a6f41797ebee8de18ee798e45eb6ea.png"},6013:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-tcm2-6bbd5067f606b5e32db5520dea899278.png"},6133:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbc6-fe08e2556f1b8d60abbddabbf9d580b7.png"},6639:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/zone-state-machine-de3050d6565c6840b72bd055dbe01f3b.svg"},6835:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"tools/libzbd","title":"libzbd User Library","description":"libzbd is a user library that provides functions for manipulating zoned block","source":"@site/docs/tools/libzbd.md","sourceDirName":"tools","slug":"/tools/libzbd","permalink":"/docs/tools/libzbd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"libzbd","sidebar_label":"libzbd User Library","title":"libzbd User Library"},"sidebar":"docs","previous":{"title":"libzbc User Library","permalink":"/docs/tools/libzbc"},"next":{"title":"libnvme User Library","permalink":"/docs/tools/libnvme"}}');var A=t(4848),i=t(8453),o=t(4474);t(6540);const l=function({src:e,title:n}){return(0,A.jsx)("div",{className:"container text--center",children:(0,A.jsxs)("figure",{children:[(0,A.jsx)("video",{controls:!0,width:"640","max-width":"100%",children:(0,A.jsx)("source",{type:"video/mp4",src:t(1542)("./"+e).default})}),(0,A.jsx)("figcaption",{children:(0,A.jsx)("em",{children:n})})]})})},r={id:"libzbd",sidebar_label:"libzbd User Library",title:"libzbd User Library"},d="libzbd User Library",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Library Functions",id:"library-functions",level:2},{value:"Utilities",id:"utilities",level:2},{value:"<em>zbd</em> Tool Examples",id:"zbd-tool-examples",level:3},{value:"Zone Operations",id:"zone-operations",level:3},{value:"Graphical Interface",id:"graphical-interface",level:3}];function f(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.header,{children:(0,A.jsx)(n.h1,{id:"libzbd-user-library",children:"libzbd User Library"})}),"\n",(0,A.jsxs)(n.p,{children:[(0,A.jsx)(n.em,{children:"libzbd"})," is a user library that provides functions for manipulating zoned block\ndevices."]}),"\n",(0,A.jsxs)(n.p,{children:["Unlike the ",(0,A.jsx)(n.a,{href:"/docs/tools/libzbc",children:(0,A.jsx)(n.em,{children:"libzbc"})})," library, ",(0,A.jsx)(n.em,{children:"libzbd"})," does not implement\ndirect command access to zoned block devices. ",(0,A.jsx)(n.em,{children:"libzbd"})," instead uses the\nkernel-provided zoned block device interface that is based on the ",(0,A.jsx)(n.em,{children:"ioctl()"}),"\nsystem call. A direct consequence of this is that ",(0,A.jsx)(n.em,{children:"libzbd"})," allows access only\nto zoned block devices that are supported by the running kernel. This includes\nboth physical devices (such as hard-disks that support the ZBC and ZAC\nstandards) and all logical block devices that are implemented by various device\ndrivers (such as ",(0,A.jsx)(n.a,{href:"/docs/getting-started/zbd-emulation",children:(0,A.jsx)(n.em,{children:"null_blk"})})," and ",(0,A.jsx)(n.a,{href:"/docs/device-mapper",children:"device\nmapper"})," drivers)."]}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.em,{children:"libzbd"})," project is hosted on ",(0,A.jsx)("a",{href:"https://github.com/westerndigitalcorporation/libzbd",target:"_blank",children:"GitHub"}),".\nThe project ",(0,A.jsxs)("a",{href:"https://github.com/westerndigitalcorporation/libzbd/blob/master/README.md",target:"_blank",children:[(0,A.jsx)(n.em,{children:"README"})," file"]})," provides information on how to compile and\ninstall the ",(0,A.jsx)(n.em,{children:"libzbd"})," library and its tools."]}),"\n",(0,A.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,A.jsxs)(n.p,{children:[(0,A.jsx)(n.em,{children:"libzbd"})," provides functions for discovering and managing the state of the zones\nin zoned block devices. Read and write accesses to the devices can be made\nusing standard I/O system calls."]}),"\n",(0,A.jsxs)(n.p,{children:["When ",(0,A.jsx)(n.em,{children:"libzbd"})," functions (and write operations) are performed on the zones of a\nzoned block device, the execution of those functions and operations can result\nin changes to the condition of the device zones and changes to the attributes\nof the device zones. An example of this is the location of the write pointer in\nsequential zones. These changes are not tracked internally by ",(0,A.jsx)(n.em,{children:"libzbd"}),"."]}),"\n",(0,A.jsxs)(n.p,{children:["In other words, ",(0,A.jsx)(n.em,{children:"libzbd"})," is stateless."]}),"\n",(0,A.jsx)(n.p,{children:"It is the responsibility of applications to track changes to the condition of\nzones. Such changes include the increased write pointer position within a\nsequential zone after a write request to the zone has completed."}),"\n",(0,A.jsx)(n.h2,{id:"library-functions",children:"Library Functions"}),"\n",(0,A.jsxs)(n.p,{children:["All ",(0,A.jsx)(n.em,{children:"libzbd"})," functions use byte units to measure zone-related information. This\nzone-related information includes the zone's start position on the device, the\nzone's size, and the zone write pointer location. Zoned block devices are\nidentified using regular file descriptor numbers, which can be used \"as is\"\nwith standard I/O system calls."]}),"\n",(0,A.jsx)(n.p,{children:"However, application programmers must be careful always to implement read\naccesses so that they are aligned to the device logical block size.\nFurthermore, on host managed zoned block devices, write operations to\nsequential zones must be aligned to the device's physical block size."}),"\n",(0,A.jsxs)(n.p,{children:["The main functions provided by ",(0,A.jsx)(n.em,{children:"libzbd"})," are as follows:"]}),"\n",(0,A.jsx)("center",{children:(0,A.jsxs)(n.table,{children:[(0,A.jsx)(n.thead,{children:(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.th,{style:{textAlign:"left"},children:"Function"}),(0,A.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,A.jsxs)(n.tbody,{children:[(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_open()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Open a zoned block device"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_close()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Close an open zoned block device"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_get_info()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Get a device information"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_report_nr_zones()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Get the number of zones of a device"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_report_zones()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Get a device zone information"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_list_zones()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Get a device zone information"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_zones_operation()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Execute an operation on a range of zones"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_open_zones()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Explicitly open a range of zone"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_close_zones()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Close a range of zones"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_reset_zones()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Reset the write pointer of a range of zones"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_finish_zones()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Finish a range of zone"})]})]})]})}),"\n",(0,A.jsxs)(n.p,{children:["More detailed information about these functions' usage and behavior can be\nfound in the comments of ",(0,A.jsxs)("a",{href:"https://github.com/westerndigitalcorporation/libzbd/blob/master/include/libzbd/zbd.h",target:"_blank",children:[(0,A.jsx)(n.em,{children:"libzbd"})," header file"]}),". This header file is installed by\ndefault as ",(0,A.jsx)(n.code,{children:"/usr/include/libzbd/zbd.h"}),"."]}),"\n",(0,A.jsxs)(n.p,{children:[(0,A.jsx)(n.em,{children:"libzbd"})," does not implement any mutual exclusion mechanism for multi-thread or\nmulti-process applications. This means that it is the responsibility of\napplications to synchronize the execution of conflicting operations that target\nthe same zone. A typical example of such a case is when multiple threads\nexecute concurrent write operations to the same zone, which can result in write\nerrors when the application does not have write ordering control."]}),"\n",(0,A.jsxs)(n.p,{children:["The following functions are provided by ",(0,A.jsx)(n.em,{children:"libzbd"})," to facilitate application\ndevelopment and tests:"]}),"\n",(0,A.jsx)("center",{children:(0,A.jsxs)(n.table,{children:[(0,A.jsx)(n.thead,{children:(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.th,{style:{textAlign:"left"},children:"Function"}),(0,A.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,A.jsxs)(n.tbody,{children:[(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_device_is_zoned()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Test if a device is a zoned block device"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_device_model_str()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a device model"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_zone_type_str()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a zone type"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_zone_cond_str()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a zone condition"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd_set_log_level()"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Set the library verbosity level"})]})]})]})}),"\n",(0,A.jsx)(n.p,{children:"All functions behave in the same manner regardless of the type of disk\nbeing used."}),"\n",(0,A.jsx)(n.h2,{id:"utilities",children:"Utilities"}),"\n",(0,A.jsxs)(n.p,{children:[(0,A.jsx)(n.em,{children:"libzbd"})," provides several command-line applications for manipulating zoned\nblock devices by calling the library functions. The list of applications\nprovided by ",(0,A.jsx)(n.em,{children:"libzbd"})," is shown in the table below:"]}),"\n",(0,A.jsx)("center",{children:(0,A.jsxs)(n.table,{children:[(0,A.jsx)(n.thead,{children:(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.th,{style:{textAlign:"left"},children:"Tool"}),(0,A.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,A.jsxs)(n.tbody,{children:[(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"zbd"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Command line utility to report, open, close, reset and finish zones of a device"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"gzbd"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Similar to the zbd tool but using a graphical user interface"})]}),(0,A.jsxs)(n.tr,{children:[(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"gzbd-viewer"}),(0,A.jsx)(n.td,{style:{textAlign:"left"},children:"Graphical user interface showing the condition and state of zones of a zoned block device"})]})]})]})}),"\n",(0,A.jsx)(n.p,{children:"Each of these utilities outputs a help message when executed without any\nargument:"}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-plaintext",children:'# zbd\nUsage: zbd <command> [options] <dev>\nCommand:\n  report\t: Get zone information\n  reset\t\t: Reset zone(s)\n  open\t\t: Explicitly open zone(s)\n  close\t\t: Close zone(s)\n  finish\t: Finish zone(s)\nCommon options:\n  -v\t\t   : Verbose mode (for debug)\n  -i\t\t   : Display device information\n  -ofst <ofst (B)> : Start offset of the first zone of the\n\t\t     target range (default: 0)\n  -len <len (B)>   : Size of the zone range to operate on\n\t\t     (default: device capacity)\n  -u <unit (B)>\t   : Size unit for the ofst and len options\n\t\t     and for displaying zone report results.\n\t\t     (default: 1)\nReport command options:\n  -csv\t\t: Use csv output format\n  -n\t\t: Only output the number of zones in the report\n  -ro <opt>\t: Specify zone report filter.\n\t\t  * "em": empty zones\n\t\t  * "oi": implicitly open zones\n\t\t  * "oe": explicitly open zones\n\t\t  * "cl": closed zones\n\t\t  * "fu": full zones\n\t\t  * "ro": read-only zones\n\t\t  * "ol": offline zones\n\t\t  * "nw": conventional zones\n\t\t  * "ns": non-seq write resource zones\n\t\t  * "rw": reset-wp recommended zones\n'})}),"\n",(0,A.jsx)(n.p,{children:"Manual pages are also provided for each tool:"}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-plaintext",children:"# man zbd\n\nZBD(8)                     System Manager's Manual                       ZBD(8)\n\nNAME\n       zbd - manage zoned block devices\n\nSYNOPSIS\n       zbd command [options] device\n\nDESCRIPTION\n       zbd  is  used  to  manipulate  zones of a zoned block device. Zoned block\n       devies are block devices that support the SCSI Zoned Block Commands\n       (ZBC), ATA  Zoned-device  ATA  Commands (ZAC)  or  NVMe  Zoned NameSpace\n       commands (ZNS).  The zones to operate on can be specified using the\n       offset and length options.\n\n       The device argument must be the pathname of the target zoned block\n       device.\n\nCOMMANDS\n   report\n       The command zbd report is used to obtain and display the device zone\n       information.\n\n       By default, the command will report all zones from the start of the\n       device up to the  last zone  of  the  device.  Options may be used to\n       modify this behavior, changing the starting zone or the size of the\n       report.\n...\n"})}),"\n",(0,A.jsxs)(n.h3,{id:"zbd-tool-examples",children:[(0,A.jsx)(n.em,{children:"zbd"})," Tool Examples"]}),"\n",(0,A.jsxs)(n.p,{children:["The following examples use a null zoned block device with 4 conventional zones\nand 12 sequential zones of 32 MB that have been created using the\n",(0,A.jsx)(n.a,{href:"/docs/getting-started/zbd-emulation#zoned-block-device-emulation-with-null_blk",children:(0,A.jsx)(n.em,{children:"nullblk-zoned.sh"})}),"\nscript:"]}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-plaintext",children:"# nullblk-zoned.sh 4096 32 4 12\n### Created /dev/nullb0\n"})}),"\n",(0,A.jsx)(n.p,{children:"The following command can be used to list the zone information for all the\nzones of a device. This includes the device information such as logical block size\nand capacity."}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-plaintext",children:"# zbd report -i /dev/nullb0\nDevice /dev/nullb0:\n    Vendor ID: Unknown\n    Zone model: host-managed\n    Capacity: 0.537 GB (1048576 512-bytes sectors)\n    Logical blocks: 131072 blocks of 4096 B\n    Physical blocks: 131072 blocks of 4096 B\n    Zones: 16 zones of 32.0 MB\n    Maximum number of open zones: no limit\n    Maximum number of active zones: no limit\nZone 00000: cnv, ofst 00000000000000, len 00000033554432, cap 00000033554432\nZone 00001: cnv, ofst 00000033554432, len 00000033554432, cap 00000033554432\nZone 00002: cnv, ofst 00000067108864, len 00000033554432, cap 00000033554432\nZone 00003: cnv, ofst 00000100663296, len 00000033554432, cap 00000033554432\nZone 00004: swr, ofst 00000134217728, len 00000033554432, cap 00000033554432, wp 00000134217728, em, non_seq 0, reset 0\nZone 00005: swr, ofst 00000167772160, len 00000033554432, cap 00000033554432, wp 00000167772160, em, non_seq 0, reset 0\nZone 00006: swr, ofst 00000201326592, len 00000033554432, cap 00000033554432, wp 00000201326592, em, non_seq 0, reset 0\nZone 00007: swr, ofst 00000234881024, len 00000033554432, cap 00000033554432, wp 00000234881024, em, non_seq 0, reset 0\nZone 00008: swr, ofst 00000268435456, len 00000033554432, cap 00000033554432, wp 00000268435456, em, non_seq 0, reset 0\nZone 00009: swr, ofst 00000301989888, len 00000033554432, cap 00000033554432, wp 00000301989888, em, non_seq 0, reset 0\nZone 00010: swr, ofst 00000335544320, len 00000033554432, cap 00000033554432, wp 00000335544320, em, non_seq 0, reset 0\nZone 00011: swr, ofst 00000369098752, len 00000033554432, cap 00000033554432, wp 00000369098752, em, non_seq 0, reset 0\nZone 00012: swr, ofst 00000402653184, len 00000033554432, cap 00000033554432, wp 00000402653184, em, non_seq 0, reset 0\nZone 00013: swr, ofst 00000436207616, len 00000033554432, cap 00000033554432, wp 00000436207616, em, non_seq 0, reset 0\nZone 00014: swr, ofst 00000469762048, len 00000033554432, cap 00000033554432, wp 00000469762048, em, non_seq 0, reset 0\nZone 00015: swr, ofst 00000503316480, len 00000033554432, cap 00000033554432, wp 00000503316480, em, non_seq 0, reset 0\n"})}),"\n",(0,A.jsx)(n.p,{children:"The same zone information can also be obtained in csv format so that it can\nmore easily be parsed by scripting languages (including shell scripts)."}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-plaintext",children:"# zbd report -csv /dev/nullb0\nzone num, type, ofst, len, cap, wp, cond, non_seq, reset\n00000, 1, 00000000000000, 00000033554432, 00000033554432, 00000033554432, 0x0, 0, 0\n00001, 1, 00000033554432, 00000033554432, 00000033554432, 00000067108864, 0x0, 0, 0\n00002, 1, 00000067108864, 00000033554432, 00000033554432, 00000100663296, 0x0, 0, 0\n00003, 1, 00000100663296, 00000033554432, 00000033554432, 00000134217728, 0x0, 0, 0\n00004, 2, 00000134217728, 00000033554432, 00000033554432, 00000134217728, 0x1, 0, 0\n00005, 2, 00000167772160, 00000033554432, 00000033554432, 00000167772160, 0x1, 0, 0\n00006, 2, 00000201326592, 00000033554432, 00000033554432, 00000201326592, 0x1, 0, 0\n00007, 2, 00000234881024, 00000033554432, 00000033554432, 00000234881024, 0x1, 0, 0\n00008, 2, 00000268435456, 00000033554432, 00000033554432, 00000268435456, 0x1, 0, 0\n00009, 2, 00000301989888, 00000033554432, 00000033554432, 00000301989888, 0x1, 0, 0\n00010, 2, 00000335544320, 00000033554432, 00000033554432, 00000335544320, 0x1, 0, 0\n00011, 2, 00000369098752, 00000033554432, 00000033554432, 00000369098752, 0x1, 0, 0\n00012, 2, 00000402653184, 00000033554432, 00000033554432, 00000402653184, 0x1, 0, 0\n00013, 2, 00000436207616, 00000033554432, 00000033554432, 00000436207616, 0x1, 0, 0\n00014, 2, 00000469762048, 00000033554432, 00000033554432, 00000469762048, 0x1, 0, 0\n00015, 2, 00000503316480, 00000033554432, 00000033554432, 00000503316480, 0x1, 0, 0\n"})}),"\n",(0,A.jsx)(n.h3,{id:"zone-operations",children:"Zone Operations"}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.em,{children:"zbd"})," tool makes it possible to execute zone management operations over a\nrange of zones. The following example explicitly opens the first 2 sequential\nzones of the ",(0,A.jsx)(n.em,{children:"null_blk"})," device:"]}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-plaintext",children:"# zbd open -ofst 134217728 -len 67108864 /dev/nullb0 \n# zbd report /dev/nullb0\nZone 00000: cnv, ofst 00000000000000, len 00000033554432, cap 00000033554432\nZone 00001: cnv, ofst 00000033554432, len 00000033554432, cap 00000033554432\nZone 00002: cnv, ofst 00000067108864, len 00000033554432, cap 00000033554432\nZone 00003: cnv, ofst 00000100663296, len 00000033554432, cap 00000033554432\nZone 00004: swr, ofst 00000134217728, len 00000033554432, cap 00000033554432, wp 00000134217728, oe, non_seq 0, reset 0\nZone 00005: swr, ofst 00000167772160, len 00000033554432, cap 00000033554432, wp 00000167772160, oe, non_seq 0, reset 0\nZone 00006: swr, ofst 00000201326592, len 00000033554432, cap 00000033554432, wp 00000201326592, em, non_seq 0, reset 0\nZone 00007: swr, ofst 00000234881024, len 00000033554432, cap 00000033554432, wp 00000234881024, em, non_seq 0, reset 0\nZone 00008: swr, ofst 00000268435456, len 00000033554432, cap 00000033554432, wp 00000268435456, em, non_seq 0, reset 0\nZone 00009: swr, ofst 00000301989888, len 00000033554432, cap 00000033554432, wp 00000301989888, em, non_seq 0, reset 0\nZone 00010: swr, ofst 00000335544320, len 00000033554432, cap 00000033554432, wp 00000335544320, em, non_seq 0, reset 0\nZone 00011: swr, ofst 00000369098752, len 00000033554432, cap 00000033554432, wp 00000369098752, em, non_seq 0, reset 0\nZone 00012: swr, ofst 00000402653184, len 00000033554432, cap 00000033554432, wp 00000402653184, em, non_seq 0, reset 0\nZone 00013: swr, ofst 00000436207616, len 00000033554432, cap 00000033554432, wp 00000436207616, em, non_seq 0, reset 0\nZone 00014: swr, ofst 00000469762048, len 00000033554432, cap 00000033554432, wp 00000469762048, em, non_seq 0, reset 0\nZone 00015: swr, ofst 00000503316480, len 00000033554432, cap 00000033554432, wp 00000503316480, em, non_seq 0, reset 0\n"})}),"\n",(0,A.jsxs)(n.p,{children:["Writing 32MB to the first zone by using ",(0,A.jsx)(n.code,{children:"dd"}),' transitions the zone to the "full" state:']}),"\n",(0,A.jsx)(n.pre,{children:(0,A.jsx)(n.code,{className:"language-plaintext",children:"# dd if=/dev/zero of=/dev/nullb0 oflag=direct bs=1M count=32 seek=128\n32+0 records in\n32+0 records out\n33554432 bytes (34 MB, 32 MiB) copied, 0.00945045 s, 3.6 GB/s\n# zbd report /dev/nullb0\nZone 00000: cnv, ofst 00000000000000, len 00000033554432, cap 00000033554432\nZone 00001: cnv, ofst 00000033554432, len 00000033554432, cap 00000033554432\nZone 00002: cnv, ofst 00000067108864, len 00000033554432, cap 00000033554432\nZone 00003: cnv, ofst 00000100663296, len 00000033554432, cap 00000033554432\nZone 00004: swr, ofst 00000134217728, len 00000033554432, cap 00000033554432, wp 00000167772160, fu, non_seq 0, reset 0\nZone 00005: swr, ofst 00000167772160, len 00000033554432, cap 00000033554432, wp 00000167772160, oe, non_seq 0, reset 0\nZone 00006: swr, ofst 00000201326592, len 00000033554432, cap 00000033554432, wp 00000201326592, em, non_seq 0, reset 0\nZone 00007: swr, ofst 00000234881024, len 00000033554432, cap 00000033554432, wp 00000234881024, em, non_seq 0, reset 0\nZone 00008: swr, ofst 00000268435456, len 00000033554432, cap 00000033554432, wp 00000268435456, em, non_seq 0, reset 0\nZone 00009: swr, ofst 00000301989888, len 00000033554432, cap 00000033554432, wp 00000301989888, em, non_seq 0, reset 0\nZone 00010: swr, ofst 00000335544320, len 00000033554432, cap 00000033554432, wp 00000335544320, em, non_seq 0, reset 0\nZone 00011: swr, ofst 00000369098752, len 00000033554432, cap 00000033554432, wp 00000369098752, em, non_seq 0, reset 0\nZone 00012: swr, ofst 00000402653184, len 00000033554432, cap 00000033554432, wp 00000402653184, em, non_seq 0, reset 0\nZone 00013: swr, ofst 00000436207616, len 00000033554432, cap 00000033554432, wp 00000436207616, em, non_seq 0, reset 0\nZone 00014: swr, ofst 00000469762048, len 00000033554432, cap 00000033554432, wp 00000469762048, em, non_seq 0, reset 0\nZone 00015: swr, ofst 00000503316480, len 00000033554432, cap 00000033554432, wp 00000503316480, em, non_seq 0, reset 0\n"})}),"\n",(0,A.jsxs)(n.p,{children:["Other possible zone operations are ",(0,A.jsx)(n.em,{children:"close"}),", ",(0,A.jsx)(n.em,{children:"reset"}),", and ",(0,A.jsx)(n.em,{children:"finish"}),"."]}),"\n",(0,A.jsx)(n.h3,{id:"graphical-interface",children:"Graphical Interface"}),"\n",(0,A.jsxs)(n.p,{children:[(0,A.jsx)(n.em,{children:"gzbd"})," provides a graphical user interface that shows the zone configuration\nand the state of a zoned block device. ",(0,A.jsx)(n.em,{children:"gzbd"}),' also displays the write status\n(the write pointer position) of zones graphically by using color coding: red\nfor written sectors and green for unwritten sectors. Operations on zones can be\nexecuted directly from the interface (examples of such operations include\n"reset zone write pointer", "open zone", and "close zone").']}),"\n",(0,A.jsx)(o.A,{src:"tools-libzbd-gzbd.png",title:"gzbd screenshot"}),"\n",(0,A.jsxs)(n.p,{children:["The ",(0,A.jsx)(n.em,{children:"gzbd-viewer"})," graphical interface is a tool that is simpler than ",(0,A.jsx)(n.em,{children:"gzbd"}),".\nIt displays only the current zone condition and the state of a zoned block\ndevice. The zone state is refreshed by default twice per second. This period\ncan be adjusted by using a command line option."]}),"\n",(0,A.jsx)(o.A,{src:"tools-libzbd-gzbd-viewer.png",title:"gzbd-viewer screenshot"}),"\n",(0,A.jsxs)(n.p,{children:[(0,A.jsx)(n.em,{children:"gzbd"})," provides simple visual cues to show a given application's performance\nand usage of the zones of a zoned block device. The following example\nillustrates this:"]}),"\n",(0,A.jsx)(l,{src:"tools-libzbd-gzbd-viewer-example.mp4",title:"Application execution observed with gzbd-viewer"})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,A.jsx)(n,{...e,children:(0,A.jsx)(f,{...e})}):f(e)}},6956:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-smr-zones-6296257d2459f5d1872bc28dcfa36ccd.png"},7225:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-smr-tracks-2277a1473f60e1e862f8bb5916422533.png"},8206:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tests-zbc-hba-4a57d56fc6c4d400eadc1692b1907a27.png"},8453:(e,n,t)=>{"use strict";t.d(n,{R:()=>o,x:()=>l});var s=t(6540);const A={},i=s.createContext(A);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(A):e.components||A:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},8651:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zone-append-890c07f2624fe7dcf7c5ee61fe2a6f0b.png"},8985:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/percona-server-logo-93e864d0f923e386d855f6a8ea67fc8f.png"},9021:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-linux-zbd-f4ba5756b82ac441113bd7f9c9dd1dc6.png"}}]);
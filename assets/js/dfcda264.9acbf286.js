"use strict";(self.webpackChunkzonedstorage_io=self.webpackChunkzonedstorage_io||[]).push([[2098],{4984:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=t(5893),i=t(1151);const r={id:"faq",title:"Frequently Asked Questions",sidebar_label:"Frequently Asked Questions"},a="Frequently Asked Questions",s={id:"faq/faq",title:"Frequently Asked Questions",description:"Can I change the size of the zones of a device?",source:"@site/docs/faq/faq.md",sourceDirName:"faq",slug:"/faq/",permalink:"/docs/faq/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"faq",title:"Frequently Asked Questions",sidebar_label:"Frequently Asked Questions"},sidebar:"docs",previous:{title:"Arch Linux",permalink:"/docs/distributions/arch"}},d={},l=[{value:"<strong>Can I change the size of the zones of a device?</strong>",id:"can-i-change-the-size-of-the-zones-of-a-device",level:3},{value:"<strong>With a host managed drive, how do I change the position of a zone write pointer?</strong>",id:"with-a-host-managed-drive-how-do-i-change-the-position-of-a-zone-write-pointer",level:3},{value:"<strong>How do I rewind the position of a zone write pointer?</strong>",id:"how-do-i-rewind-the-position-of-a-zone-write-pointer",level:3},{value:"<strong>How do I partially rewind the position of a zone write pointer?</strong>",id:"how-do-i-partially-rewind-the-position-of-a-zone-write-pointer",level:3},{value:"<strong>Can I create partitions on my host managed device?</strong>",id:"can-i-create-partitions-on-my-host-managed-device",level:3}];function h(e){const n={a:"a",admonition:"admonition",em:"em",h1:"h1",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,o.jsx)(n.h3,{id:"can-i-change-the-size-of-the-zones-of-a-device",children:(0,o.jsx)(n.strong,{children:"Can I change the size of the zones of a device?"})}),"\n",(0,o.jsx)(n.p,{children:"The size of the zones of a physical zoned device are fixed at manufacturing\ntime by the device vendor. For a particular device model, it is not possible\nto change the zone size."}),"\n",(0,o.jsxs)(n.p,{children:["Device emulation software such as\n",(0,o.jsx)(n.a,{href:"/docs/tools/tcmu-runner",children:"tcmu-runner"})," allow defining zoned block devices with\ndifferent zone sizes. While this does not replace the ability to change an\nexisting device zone size, such solution allows exploring the impact of the\ndevice zone size on the application being developed."]}),"\n",(0,o.jsx)(n.h3,{id:"with-a-host-managed-drive-how-do-i-change-the-position-of-a-zone-write-pointer",children:(0,o.jsx)(n.strong,{children:"With a host managed drive, how do I change the position of a zone write pointer?"})}),"\n",(0,o.jsx)(n.p,{children:"The write pointer position of a zone changes automatically in response to the\nfollowing operations."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A write operation (regular write command, write same command) issued with\na starting LBA equal to the zone write pointer current location or a zone\nappend write operation issued with a starting LBA equal to the zone start LBA:\nthe write pointer position advances by an amount of LBAs written."}),"\n",(0,o.jsx)(n.li,{children:"A zone reset operation: the write pointer position of the target zone(s)\nis reset to the start of the zone."}),"\n",(0,o.jsx)(n.li,{children:"A zone finish operation: the write pointer position of the target zone(s)\nis changed an invalid value with the zone condition cnahed to FULL."}),"\n",(0,o.jsx)(n.li,{children:"A device low level format operation: the write pointer of all zones is reset."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"No other command, operation or user action can change the position of a zone\nwrite pointer to any position within the zone."}),"\n",(0,o.jsx)(n.h3,{id:"how-do-i-rewind-the-position-of-a-zone-write-pointer",children:(0,o.jsx)(n.strong,{children:"How do I rewind the position of a zone write pointer?"})}),"\n",(0,o.jsx)(n.p,{children:"As mentioned in the previous question reply, resetting a zone will rewind the\nzone write pointer position to the first LBA of the zone. A low level device\nformat operation will also reset all zones."}),"\n",(0,o.jsx)(n.h3,{id:"how-do-i-partially-rewind-the-position-of-a-zone-write-pointer",children:(0,o.jsx)(n.strong,{children:"How do I partially rewind the position of a zone write pointer?"})}),"\n",(0,o.jsx)(n.p,{children:"This is not possible. A zone write pointer can only be moved back to the start\nLBA of the zone using a reset write pointer command."}),"\n",(0,o.jsx)(n.h3,{id:"can-i-create-partitions-on-my-host-managed-device",children:(0,o.jsx)(n.strong,{children:"Can I create partitions on my host managed device?"})}),"\n",(0,o.jsxs)(n.p,{children:["Kernel versions 4.10 to 5.4 include support for partition tables on host managed\nzoned block devices. However, partitioning tools such as\n",(0,o.jsx)("a",{href:"https://gparted.org/",target:"_blank",children:(0,o.jsx)(n.em,{children:"gparted"})})," generally used to\ncreate GUID partition tables do not support host managed zoned devices that do\nnot have a conventional zone at the beginning and end of the LBA space. If the\nfirst zone and last zone of the device are sequential write required zones,\nwriting the primary and secondary GPT header and table entries will likely fail,\nresulting in an incorrect or corrupted partition table that will not be\nrecognized by the kernel block layer."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Linux\xae kernel mandates that partitions of a zoned block device be zone\naligned. That is, the start sector of all device partitions must be the start\nsector of a zone and the end sector of the partitions must be the last sector of\na zone."})}),"\n",(0,o.jsxs)(n.p,{children:["Support for partition tables on host managed zoned block devices has been\nremoved from the kernel with version 5.5.0. Using the\n",(0,o.jsx)(n.a,{href:"/docs/linux/dm#dm-linear",children:(0,o.jsx)(n.em,{children:"dm-linear"})})," device mapper target to logically\nisolate smaller portions of a host managed device is the replacement and\npreferred solution."]}),"\n",(0,o.jsxs)(n.p,{children:["More information on partition support can be found ",(0,o.jsx)(n.a,{href:"/docs/linux/part",children:"here"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>a});var o=t(7294);const i={},r=o.createContext(i);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);
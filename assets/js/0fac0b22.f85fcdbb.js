(self.webpackChunkzonedstorage_io=self.webpackChunkzonedstorage_io||[]).push([[7151],{4414:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>A,toc:()=>d});var s=t(4848),i=t(8453),r=t(4474);const o={id:"libzbc",title:"libzbc User Library",sidebar_label:"libzbc User Library"},l="libzbc User Library",A={id:"tools/libzbc",title:"libzbc User Library",description:"libzbc is a user library that provides functions for manipulating ZBC and ZAC",source:"@site/docs/tools/libzbc.md",sourceDirName:"tools",slug:"/tools/libzbc",permalink:"/docs/tools/libzbc",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"libzbc",title:"libzbc User Library",sidebar_label:"libzbc User Library"},sidebar:"docs",previous:{title:"SCSI Generic Utilities",permalink:"/docs/tools/sg3utils"},next:{title:"libzbd User Library",permalink:"/docs/tools/libzbd"}},c={},d=[{value:"Overview",id:"overview",level:2},{value:"State model",id:"state-model",level:2},{value:"Library Functions",id:"library-functions",level:2},{value:"Tools",id:"tools",level:2},{value:"Getting Disk Information",id:"getting-disk-information",level:3},{value:"Zone Information",id:"zone-information",level:3},{value:"Writing and Resetting Zones",id:"writing-and-resetting-zones",level:3},{value:"Graphical Interface",id:"graphical-interface",level:3},{value:"Emulation Mode",id:"emulation-mode",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"libzbc-user-library",children:"libzbc User Library"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," is a user library that provides functions for manipulating ZBC and ZAC\ndisks. The command implementation of ",(0,s.jsx)(n.em,{children:"libzbc"})," is compliant with the latest\npublished versions of the ZBC and ZAC standards as defined by INCITS technical\ncommittees T10 (for ZBC) and T13 (for ZAC)."]}),"\n",(0,s.jsxs)(n.p,{children:["In addition to supporting ZBC and ZAC disks, ",(0,s.jsx)(n.em,{children:"libzbc"})," may implement an emulation\nmode that allows the library to imitate the behavior of a host managed zoned\ndisk, using a regular file or a standard block device as the backing store."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.em,{children:"libzbc"})," project is hosted on ",(0,s.jsx)("a",{href:"https://github.com/westerndigitalcorporation/libzbc",target:"_blank",children:"GitHub"}),".\nThe project's ",(0,s.jsxs)("a",{href:"https://github.com/westerndigitalcorporation/libzbc/blob/master/README.md",target:"_blank",children:["\n",(0,s.jsx)(n.em,{children:"README"})," file"]})," provides information on how to compile and install the\n",(0,s.jsx)(n.em,{children:"libzbc"})," library and its tools."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.em,{children:"libzbc"})," project was formerly hosted on GitHub as part of\nthe ",(0,s.jsx)("a",{href:"https://github.com/hgst",target:"_blank",children:"HGST organization"}),".\n",(0,s.jsx)(n.em,{children:"libzbc"})," repository has since then moved to\nthe ",(0,s.jsx)("a",{href:"https://github.com/westerndigitalcorporation/",target:"_blank",children:"Western Digital Corporation organization on GitHub"}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," provides a test suite that makes it possible to test disks and HBAs\nfor conformity to the ZBC and ZAC standards.  In order to make the test suite\navailable, ",(0,s.jsx)(n.em,{children:"libzbc"})," must be configured using the ",(0,s.jsx)(n.em,{children:"--with-test"})," option prior to\nbuilding and installing the library. The usage of this test suite is described\nin more detail ",(0,s.jsx)(n.a,{href:"/docs/tests/zbc-tests",children:"here"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," provides a unified application programming interface (API) that is\nindependent of the zone model and the interface of the disk being used.\nInternally, four different types of device drivers are used to handle commands\nthat are dependent on the device interface:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ZAC ATA Driver"})," This driver is used to handle the direct delivery of ATA\ncommands to ZAC disks through the SCSI generic driver (direct device\naccess interface)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ZBC SCSI Driver"})," This driver primarily handles SCSI commands directed at\nZBC SCSI disks, but can also be used to control ZAC ATA disks if a functional\nSCSI to ATA (SAT) command translation layer exists in the command path.\nSAT may be provided either by the kernel ",(0,s.jsx)(n.em,{children:"libata"})," subsystem for ATA disks\nconnected to SATA adapters or by an SAS host bus adapter (HBA) for SATA disks\nconnected to such an adapter."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zoned Block Device Driver"})," This driver uses the kernel zoned block devie\ninterface to control both ZBC and ZAC disks. This driver is only available if\nkernel zoned block device support is present and enabled. This driver is no\nlonger available in ",(0,s.jsx)(n.em,{children:"libzbc"})," v6.0.0 and upward."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"File Emulation Driver"})," This driver emulates a host managed ZBC disk using\na regular file or regular block device as backend storage. This driver is\nintended for development only. A more advanced ZBC disk emulation solution\nis provided by the ",(0,s.jsx)(n.a,{href:"/docs/tools/tcmu-runner",children:(0,s.jsx)(n.em,{children:"tcmu-runner"})})," project. This\ndriver is no longer available in ",(0,s.jsx)(n.em,{children:"libzbc"})," v6.0.0.0 and upward."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The figure below shows this structure."}),"\n",(0,s.jsx)(r.A,{src:"tools-libzbc.png",title:"libzbc v5.0.0 - v6.0.0 internal backend drivers organization"}),"\n",(0,s.jsxs)(n.p,{children:["The latest version of ",(0,s.jsx)(n.em,{children:"libzbc"}),", version 6.0.0, does not support the\n",(0,s.jsx)(n.strong,{children:"Zoned Block Device Driver"}),". This change avoids the overlap in functionality\nwith ",(0,s.jsx)(n.a,{href:"/docs/tools/libzbd",children:(0,s.jsx)(n.em,{children:"libzbd"})}),". In practice, it means that ",(0,s.jsx)(n.em,{children:"libzbc"})," is now a pure\npassthrough library which never use the kernel zoned block devie management\ninterface."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," version 6.0.0 also removes the ",(0,s.jsx)(n.strong,{children:"File Emulation Driver"})," because\nrecent versions of QEMU and ",(0,s.jsx)(n.a,{href:"/docs/tools/tcmu-runner",children:(0,s.jsx)(n.em,{children:"tcmu-runner"})})," provide much more\nextensive and flexible means for emulating a ZBC device, making ",(0,s.jsx)(n.em,{children:"libzbc"}),"-based\nemulation obsolete."]}),"\n",(0,s.jsxs)(n.p,{children:["The figure below illustrates the new ",(0,s.jsx)(n.em,{children:"libzbc"})," v6.0.0 structure."]}),"\n",(0,s.jsx)(r.A,{src:"tools-libzbc6.png",title:"libzbc v6.0.0 upward internal backend drivers organization"}),"\n",(0,s.jsx)(n.h2,{id:"state-model",children:"State model"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," provides functions for discovering the zone configuration of a zoned\ndevice and for accessing the device. Accesses to the device may result in\nchanges to the condition of the device zone, the attributes of the device zone,\nand the state of device zone (such as the write pointer's location in\nsequential zones). These changes are not tracked internally by ",(0,s.jsx)(n.em,{children:"libzbc"}),". That\nis, ",(0,s.jsx)(n.em,{children:"libzbc"})," is stateless."]}),"\n",(0,s.jsx)(n.p,{children:'The functions that are provided to obtain the device zone information make a\n"snapshot" of the zone condition and state only when executed. It is the\nresponsibility of applications to implement tracking of the device zone changes\n(such as the increasing write pointer position of a sequential zone after the\ncompletion of write requests to the zone).'}),"\n",(0,s.jsx)(n.h2,{id:"library-functions",children:"Library Functions"}),"\n",(0,s.jsxs)(n.p,{children:["All ",(0,s.jsx)(n.em,{children:"libzbc"})," functions since version 5.0.0 use a 512-byte sector unit for (1)\nreporting zone information and (2) as the sector addressing unit for device\naccesses, regardless of the actual device logical block size. This unification\nin the unit used by all functions can simplify application development by\nhiding potential differences in logical block sizes between devices. However,\napplication programmers must be careful always to implement accesses (read or\nwrite) to the device that are aligned to the device's logical block size.\nFurthermore, on host managed zoned devices, write operations to sequential\nzones must be aligned to the device's physical block size."]}),"\n",(0,s.jsxs)(n.p,{children:["The main functions provided by ",(0,s.jsx)(n.em,{children:"libzbc"})," are as follows:"]}),"\n",(0,s.jsx)("center",{children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Function"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_open()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Open a zoned device"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_close()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Close a zoned device"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_get_device_info()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get device information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_report_nr_zones()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get the number of zones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_report_zones()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get zone information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_list_zones()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get zone information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_zone_operation()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Execute a zone operation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_open_zone()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Explicitly open a zone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_close_zone()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Close an open zone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_finish_zone()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Finish a zone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_reset_zone()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Reset a zone write pointer"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_pread()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Read data from a zone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_pwrite()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Write data to a zone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_flush()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Flush data to disk"})]})]})]})}),"\n",(0,s.jsxs)(n.p,{children:["Since the release 6.0.0, additional ",(0,s.jsx)(n.em,{children:"libzbc"})," API functions are available.\nMost of them have been added to support certain new features defined in\nZAC-2/ZBC-2 standard specification."]}),"\n",(0,s.jsxs)(n.p,{children:["The two new ZAC-2/ZBC-2 features that ",(0,s.jsx)(n.em,{children:"libzbc"})," 6.0.0 supports are"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Zone Domains/Zone Realms protocol that is commonly used to control DH-SMR\n(aka XMR) zoned devices"}),"\n",(0,s.jsx)(n.li,{children:"the ability to specify zone counts for zone operations"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The new API functions that are only available from release 6.0.0 and onward\nare listed below."}),"\n",(0,s.jsx)("center",{children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_zone_group_op()"}),(0,s.jsx)(n.td,{children:"Execute a zone operation on a group of zones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_open_zones()"}),(0,s.jsx)(n.td,{children:"Open a group of zones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_close_zones()"}),(0,s.jsx)(n.td,{children:"Close a group of zones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_finish_zones()"}),(0,s.jsx)(n.td,{children:"Finish a group of zones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_reset_zones()"}),(0,s.jsx)(n.td,{children:"Reset a group of zones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_report_domains()"}),(0,s.jsx)(n.td,{children:"Get zone domain information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_report_realms()"}),(0,s.jsx)(n.td,{children:"Get zone realm information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_report_nr_realms()"}),(0,s.jsx)(n.td,{children:"Get the number of realms"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_zone_activate()"}),(0,s.jsx)(n.td,{children:"Activate zones at a new zone domain"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_zone_query()"}),(0,s.jsx)(n.td,{children:"Query about possible results of zone activation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_get_nr_actv_records()"}),(0,s.jsx)(n.td,{children:"Get the number of activation records"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"zbc_zone_activation_ctl()"}),(0,s.jsx)(n.td,{children:"Read or change persistent device settings"})]})]})]})}),"\n",(0,s.jsxs)(n.p,{children:["More detailed information about the  usage and behavior of these functions can\nbe found in the comments of ",(0,s.jsxs)("a",{href:"https://github.com/westerndigitalcorporation/libzbc/blob/master/include/libzbc/zbc.h",target:"_blank",children:[(0,s.jsx)(n.em,{children:"libzbc"})," header file"]}),". This header file is installed by\ndefault as ",(0,s.jsx)(n.code,{children:"/usr/include/libzbc/zbc.h"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"}),' does not implement any mutual exclusion mechanism for multi-thread or\nmulti-process applications. This means that it is the responsibility of\napplications to synchronize the execution of conflicting operations that target\nthe same zone. A typical example of such a case is "concurrent write operations\nto the same zone by multiple threads", which can result in write errors if the\napplication does not have write ordering control.']}),"\n",(0,s.jsxs)(n.p,{children:["The following functions are also provided by ",(0,s.jsx)(n.em,{children:"libzbc"})," to facilitate application\ndevelopment and tests:"]}),"\n",(0,s.jsx)("center",{children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Function"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_set_log_level()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Set log level of the library functions"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_device_is_zoned()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Test if a device is a zoned block device"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_print_device_info()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Print to a file (stream) a device information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_device_type_str()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a device type"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_device_model_str()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a device model"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_zone_type_str()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a zone type"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_zone_condition_str()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a zone condition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_errno()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Return sense key and sense code of the last command executed"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_sk_str()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a sense key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_asc_ascq_str()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get a string description of a sense code"})]})]})]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," 6.0.0 adds one new function to the test and development portion\nof the API:"]}),"\n",(0,s.jsx)("center",{children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Function"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_version()"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Return the library version"})]})})]})}),"\n",(0,s.jsxs)(n.p,{children:["All functions behave in the same manner regardless of the type of disk that is\nused. The only exception to this is the ",(0,s.jsx)(n.code,{children:"zbc_errno()"})," function's inability to\nreport detailed error information when the zoned block device driver is used.\nThe reason for this is that the kernel I/O stack does not have the ability to\npropagate up to the application the detailed information that is provided in\nSCSI/ATI sense data for failed commands."]}),"\n",(0,s.jsx)(n.h2,{id:"tools",children:"Tools"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," provides several command line applications for manipulating zoned\ndisks by calling the library functions. The list of applications provided is\nshown in the table below:"]}),"\n",(0,s.jsx)("center",{children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Tool"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"gzbc"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"gzbc provides a graphical user interface showing zone information of a zoned device"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_info"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Get information on a disk"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_report_zones"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"List the zones of a device"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_reset_zone"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Reset the write pointer of sequential zones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_open_zone"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Explicitly open a sequential write zone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_close_zone"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Close an open sequential write zone"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_finish_zone"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Transition a sequential write zone to the full condition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_read_zone"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Read a zone sectors"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_write_zone"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Write a zone sectors"})]})]})]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," release 6.0.0 introduces a few additional tools to facilitate\nZone Domains/Zone Realms support. These tools are:"]}),"\n",(0,s.jsx)("center",{children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Tool"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_report_domains"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Report zone domains"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_report_realms"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Report zone realms"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_zone_activate"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Activate or query zones at a new zone domain"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_dev_control"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Read or change persistent device settings"})]})]})]})}),"\n",(0,s.jsxs)(n.p,{children:["The following tools are provided to create and modify the regular file or\nregular block device used as backend storage with ",(0,s.jsx)(n.em,{children:"libzbc"})," emulation mode.\nThese tools are no longer available as of v6.0.0."]}),"\n",(0,s.jsx)("center",{children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Tool"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_set_zones"}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Initialize (format) a regular file or regular disk to be used with ",(0,s.jsx)(n.em,{children:"libzbc"})," emulation mode"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"zbc_set_write_ptr"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Change the write pointer position of the sequential zones of an emulated disk (intended for testing purposes only as this is not a valid operation for physical ZBC devices"})]})]})]})}),"\n",(0,s.jsx)(n.p,{children:"All tools output a help message when executed without any argument:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:'# zbc_report_zones\nUsage: zbc_report_zones [options] <dev>\nOptions:\n  -v\t\t  : Verbose mode\n  -lba\t\t  : Use LBA size unit (default is 512B sectors)\n  -start <offset> : Start offset of report. if "-lba" is used\n                    <offset> is interpreted as an LBA. Otherwise,\n                    it is interpreted as a 512B sector number.\n                    Default is 0\n  -n\t\t  : Get only the number of zones\n  -nz <num>\t  : Get at most <num> zones\n  -ro <opt>\t  : Specify reporting option: "all", "empty",\n                    "imp_open", "exp_open", "closed", "full",\n                    "rdonly", "offline", "rwp", "non_seq" or "not_wp".\n                    Default is "all"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getting-disk-information",children:"Getting Disk Information"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"zbc_info"})," displays information about a disk, including regular block devices:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_info /dev/sg3\nDevice /dev/sg3:\n    Vendor ID: ATA HGST HSH721415AL T220\n    Zoned block device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\n# zbc_info /dev/sg0\n/dev/sg0 is not a zoned block device\n"})}),"\n",(0,s.jsx)(n.h3,{id:"zone-information",children:"Zone Information"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"zbc_report_zones"})," illustrates the use of the ",(0,s.jsx)(n.em,{children:"libzbc"})," zone reporting functions\n",(0,s.jsx)(n.code,{children:"zbc_report_zones()"}),", ",(0,s.jsx)(n.code,{children:"zbc_report_nr_zones()"})," and ",(0,s.jsx)(n.code,{children:"zbc_list_zones()"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_report_zones /dev/sg3\nDevice /dev/sg3:\n    Vendor ID: ATA HGST HSH721415AL T220\n    Zoned block device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\n    55880 zones from 0, reporting option 0x00\n55880 / 55880 zones:\nZone 00000: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 0, 524288 sectors\nZone 00001: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 524288, 524288 sectors\nZone 00002: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 1048576, 524288 sectors\n...\nZone 00522: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 273678336, 524288 sectors\nZone 00523: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 274202624, 524288 sectors\nZone 00524: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0,\nsector 274726912, 524288 sectors, wp 274726912\nZone 00525: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0,\nsector 275251200, 524288 sectors, wp 275251200\n...\nZone 55878: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 29296164864, 524288 sectors, wp 29296164864\nZone 55879: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 29296689152, 524288 sectors, wp 29296689152\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The output of ",(0,s.jsx)(n.em,{children:"zbc_report_zones"})," can be limited by using the option ",(0,s.jsx)(n.code,{children:"-ro"}),"\n(reporting options) to filter which zones are reported, or by using the option\n",(0,s.jsx)(n.code,{children:"-n"})," to limit the output to the number of zones specified as an argument of\nthis option."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_report_zones -ro not_wp -n /dev/sg3\nDevice /dev/sg3:\n    Vendor ID: ATA HGST HSH721415AL T220\n    Zoned block device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\n    524 zones from 0, reporting option 0x3f\n"})}),"\n",(0,s.jsx)(n.h3,{id:"writing-and-resetting-zones",children:"Writing and Resetting Zones"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"zbc_write_zone"})," sequentially writes data to a zone. If the zone is a\nsequential zone, the write pointer position advances until the zone is full. By\ndefault, ",(0,s.jsx)(n.em,{children:"zbc_write_zone"})," writes the entire zone. For example, using the disk\nused in the previous example, the first sequential write zone (zone number 524)\ncan be written with 512 kb writes with the following command, until it is full:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_write_zone /dev/sg3 524 524288\nDevice /dev/sg3:\n    Vendor ID: ATA HGST HSH721415AL T220\n    SCSI ZBC device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\nTarget zone: Zone 524 / 55880, type 0x2 (Sequential-write-required), cond 0x1 (Empty), rwp 0, non_seq 0, sector 274726912, 524288 sectors, wp 274726912\nFilling target zone 524, 524288 B I/Os\nWrote 268435456 B (512 I/Os) in 1.082 sec\n  IOPS 472\n  BW 247.952 MB/s\n\n# zbc_report_zones -start 274726912 -nz 1 /dev/sg3\nDevice /dev/sg3:\n    Vendor ID: ATA HGST HSH721415AL T220\n    SCSI ZBC device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\n    55356 zones from 274726912, reporting option 0x00\n1 / 55356 zone:\nZone 00000: type 0x2 (Sequential-write-required), cond 0xe (Full), reset recommended 0, non_seq 0, sector 274726912, 524288 sectors, wp 2251799813685240\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The written zone can then be reset by using the command ",(0,s.jsx)(n.em,{children:"zbc_reset_zone"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_reset_zone /dev/sg3 524\nDevice /dev/sg3:\n    Vendor ID: ATA HGST HSH721415AL T220\n    SCSI ZBC device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\nreset zone 524/55880, sector 274726912...\n\n# zbc_report_zones -start 274726912 -nz 1 /dev/sg7\nDevice /dev/sg7:\n    Vendor ID: ATA HGST HSH721415AL T220\n    SCSI ZBC device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\n    55356 zones from 274726912, reporting option 0x00\n1 / 55356 zone:\nZone 00000: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 274726912, 524288 sectors, wp 274726912\n"})}),"\n",(0,s.jsxs)(n.p,{children:["All the sequential write zones of a device can be reset using the option\n",(0,s.jsx)(n.code,{children:"-all"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_reset_zone -all /dev/sg7\nDevice /dev/sg7:\n    Vendor ID: ATA HGST HSH721415AL T220\n    SCSI ZBC device interface, Host-managed zone model\n    29297213440 512-bytes sectors\n    3662151680 logical blocks of 4096 B\n    3662151680 physical blocks of 4096 B\n    15000.173 GB capacity\n    Read commands are unrestricted\n    Maximum number of open sequential write required zones: 128\nOperating on all zones...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"graphical-interface",children:"Graphical Interface"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"gzbc"})," provides a graphical user interface that shows the zone configuration\nand state of a zoned  device. ",(0,s.jsx)(n.em,{children:"gzbc"}),' displays the write status (write pointer\nposition) of zones by using color coding (red for written sectors and green for\nunwritten sectors). Some operations on zones can be executed directly from the\ninterface ("reset zone write pointer", "open zone", "close zone", etc).']}),"\n",(0,s.jsx)(r.A,{src:"tools-libzbc-gzbc.png",title:"gzbc screeshot"}),"\n",(0,s.jsx)(n.h2,{id:"emulation-mode",children:"Emulation Mode"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Emulation mode is only available in ",(0,s.jsx)(n.em,{children:"libzbc"})," prior to v6.0.0.0."]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"libzbc"})," emulation mode requires a regular file or a regular block device as\nbackend storage. The size of the file or the capacity of the block device is\nused as the emulated device's capacity."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, the following commands will create a 10GB file name ",(0,s.jsx)(n.code,{children:"zbc-disk"}),"\nthat can be used as an emulated disk:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# touch zbc-disk\n# truncate -s 10G zbc-disk\n# ls -l zbc-disk\n-rw-r--r-- 1 root root 10737418240 May 22 16:48 zbc-disk\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This file can now be initialized for use with ",(0,s.jsx)(n.em,{children:"libzbc"})," emulation mode:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_set_zones zbc-disk set_ps 10 256\nDevice zbc-disk:\n    Vendor ID: FAKE HGST HM libzbc\n    Emulated zoned block device interface, Host-managed zone model\n    20971520 512-bytes sectors\n    20971520 logical blocks of 512 B\n    2621440 physical blocks of 4096 B\n    10.737 GB capacity\n    Read commands are restricted\n    Maximum number of open sequential write required zones: 32\n\nSetting zones:\n    Zone size: 256 MiB (524288 sectors)\n    Conventional zones: 1024 MiB (2097152 sectors), 10.00 % of total capacity), 4 zones\n    Sequential zones: 36 zones\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The file can now be used with ",(0,s.jsx)(n.em,{children:"libzbc"})," library functions and tools as though it\nis a physical zoned block device:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"# zbc_report_zones zbc-disk\nDevice zbc-disk:\n    Vendor ID: FAKE HGST HM libzbc\n    Emulated zoned block device interface, Host-managed zone model\n    20971520 512-bytes sectors\n    20971520 logical blocks of 512 B\n    2621440 physical blocks of 4096 B\n    10.737 GB capacity\n    Read commands are restricted\n    Maximum number of open sequential write required zones: 32\n    40 zones from 0, reporting option 0x00\n40 / 40 zones:\nZone 00000: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 0, 524288 sectors\nZone 00001: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 524288, 524288 sectors\nZone 00002: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 1048576, 524288 sectors\nZone 00003: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 1572864, 524288 sectors\nZone 00004: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 2097152, 524288 sectors, wp 2097152\nZone 00005: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 2621440, 524288 sectors, wp 2621440\n...\nZone 00038: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 19922944, 524288 sectors, wp 19922944\nZone 00039: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 20447232, 524288 sectors, wp 20447232\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},4474:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});t(6540);var s=t(4848);const i=function(e){let{src:n,title:i}=e;return(0,s.jsx)("div",{className:"container text--center",children:(0,s.jsxs)("figure",{children:[(0,s.jsx)("img",{src:t(1542)("./"+n).default,width:"640","max-width":"100%"}),(0,s.jsx)("figcaption",{children:(0,s.jsx)("em",{children:i})})]})})}},9021:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-linux-zbd-f4ba5756b82ac441113bd7f9c9dd1dc6.png"},7225:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-smr-tracks-2277a1473f60e1e862f8bb5916422533.png"},6956:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-smr-zones-6296257d2459f5d1872bc28dcfa36ccd.png"},1315:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zns-128e951b7035733479ad228844c9e7ab.png"},8651:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zone-append-890c07f2624fe7dcf7c5ee61fe2a6f0b.png"},990:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zoned-storage-82ce755eb4ac58c0b289d5bcb8b8c361.png"},2862:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/intro-zonesize-vs-capacity-0f94861db037e13632def2968998b611.png"},4710:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-dm-9e8a3c8f8b9a480f921d7d263a9dc113.png"},5105:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-pscsi-e7c9db15cc4aebcf65fb21db3521a144.png"},662:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-sched-70e55f9f3df2c81df464b476b1c4f636.png"},4246:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-tcm1-7684c969474b143f4f71318501623f6f.png"},6013:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-tcm2-6bbd5067f606b5e32db5520dea899278.png"},3451:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-vhost-21cc5561b882aa8097fb30aa35664908.png"},2943:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-zbd-2e5d1a6b239c372fbd3e44f5e3282ebe.png"},5444:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-config-zonefs-34a6f41797ebee8de18ee798e45eb6ea.png"},4194:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-dm-zoned-7f01ae74923ff02b8d01c92fef2d376d.png"},1663:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-iopath-3ad49009873f1211b8e873f9ba540a38.png"},4637:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/linux-versions-da4843f4c91f84aa8ef57f001bb6e8f1.png"},8985:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/percona-server-logo-93e864d0f923e386d855f6a8ea67fc8f.png"},3105:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/qemu-151192c8ad3d711f862c27b8b9e5bec4.png"},8206:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tests-zbc-hba-4a57d56fc6c4d400eadc1692b1907a27.png"},1666:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tests-zbc-kernel-166564aae2e5ad8dc156175fbf8f2e85.png"},4948:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbc-gzbc-5d6b525337b567661f392ef6d06ad83e.png"},3499:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbc-9dc574a0bfec08d195e6e4179d6cd272.png"},6133:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbc6-fe08e2556f1b8d60abbddabbf9d580b7.png"},3283:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbd-gzbd-viewer-63527beb07ac767d890a1b9616c85add.png"},1050:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-libzbd-gzbd-3a358277b4b4b8a9ea5629ce574afad4.png"},5143:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-tcmu-gzbc-11fb58818ee21d5116da8329d0d479af.png"},2178:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/tools-tcmu-dc8b8095c58f25df749406030dcc1b25.png"},4140:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s="data:image/vnd.microsoft.icon;base64,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WP/47uz/0YFb/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9KDXf/9+fj/15V6/9GAWf/RgFnf0YBZ/9GAWf/RgFr/04hm/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/26OO//Xp5f/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ//br6P/erJn/0YBZ/9GAWf/RgFn/0YBZ/9OIZf/9+/r/0oRf/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/ShWH/3amX/+vRyf/37er/2qGM/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/8+Tf/+G1pf/RgFn/0YBZ/9GAWf/RgFn/04hk//79/P/ShWH/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/dqZf/8d7Z//br5//t1c7/4LKi/9KEYP/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/y4dz/4bSk/9GAWf/RgFn/0YBZ/9GAWf/RgFn//fn4/9eWev/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/4riq//Xo5P/aoYz/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ//Hf2v/cp5P/0YBZ/9GAWf/RgFnf0YBZ/9GAWf/26ub/4LCg/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/05+T/15V7/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/04hm/9KDXv/RgFn/0YBZ39GAWa7RgFn/0YBZ/+vQyP/s0cn/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ//Xp5v/UjW7/0YBZ/9GAWf/RgFn/0YBZ/9WPcv/htab/0oNf/9GAWf/RgFn/0YBZ/9GAWf/RgFn/0YBZ/+fHvP/58O3/2Jh//9GAWf/RgFmu0YBZb9GAWf/RgFn/3KaS//r08v/ShWH/0YBZ/9GAWf/RgFn/0YBZ/9GAWf/RgFn/5sO4/+3Wz//ShGH/0YBZ/9GAWf/RgVr/79rU////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"},2574:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/zs-logo-178d9855350307325549778e41354d29.png"},5128:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/medias/tools-libzbd-gzbd-viewer-example-b3b4ef97af02e55f8b536f5b1b3c32d0.mp4"},2585:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});const s=t.p+"assets/images/zone-state-machine-de3050d6565c6840b72bd055dbe01f3b.svg"},1542:(e,n,t)=>{var s={"./intro-linux-zbd.png":9021,"./intro-smr-tracks.png":7225,"./intro-smr-zones.png":6956,"./intro-zns.png":1315,"./intro-zone-append.png":8651,"./intro-zoned-storage.png":990,"./intro-zonesize-vs-capacity.png":2862,"./linux-config-dm.png":4710,"./linux-config-pscsi.png":5105,"./linux-config-sched.png":662,"./linux-config-tcm1.png":4246,"./linux-config-tcm2.png":6013,"./linux-config-vhost.png":3451,"./linux-config-zbd.png":2943,"./linux-config-zonefs.png":5444,"./linux-dm-zoned.png":4194,"./linux-iopath.png":1663,"./linux-versions.png":4637,"./percona-server-logo.png":8985,"./qemu.png":3105,"./tests-zbc-hba.png":8206,"./tests-zbc-kernel.png":1666,"./tools-libzbc-gzbc.png":4948,"./tools-libzbc.png":3499,"./tools-libzbc6.png":6133,"./tools-libzbd-gzbd-viewer-example.mp4":5128,"./tools-libzbd-gzbd-viewer.png":3283,"./tools-libzbd-gzbd.png":1050,"./tools-tcmu-gzbc.png":5143,"./tools-tcmu.png":2178,"./zone-state-machine.svg":2585,"./zs-logo.ico":4140,"./zs-logo.png":2574};function i(e){var n=r(e);return t(n)}function r(e){if(!t.o(s,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=1542},8453:(e,n,t)=>{"use strict";t.d(n,{R:()=>o,x:()=>l});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);